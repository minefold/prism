#!/usr/bin/env ruby
require 'bundler/setup'
Bundler.require :default

$:.unshift File.join File.dirname(__FILE__), '../lib'
require 'jobs'

abort "Usage: stop-world name" unless ARGV.length == 1
world_name = ARGV.shift

Resque.enqueue Jobs::StopWorld, world_name
Resque.enqueue Jobs::BackupWorld, world_name
Resque.enqueue Jobs::RemoveWorld, world_name